<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buyers & Sellers Directory</title>
    <link rel="stylesheet" href="sample.css">
</head>
<body>

    <!-- Search Bar and Categories -->
    <div class="search-container">
        <input type="text" id="search-bar" placeholder="Search for products, suppliers, and more..." />
        <button type="button" id="search-btn">Search</button>
    </div>

    <div class="categories-container">
        <div class="category-box" onclick="openRequestForm('buyer')">
            <h3>Find Buyers</h3>
        </div>
        <div class="category-box" onclick="openRequestForm('seller')">
            <h3>Find Sellers</h3>
        </div>
    </div>

    <!-- Request Form Modal -->
    <div id="request-form-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-title">Submit Request</h2>
            <form id="request-form">
                <input type="hidden" id="user-type">
                <label for="product-name">Product Name:</label>
                <input type="text" id="product-name" required>

                <label for="product-description">Product Description:</label>
                <textarea id="product-description" required></textarea>

                <label for="quantity">Quantity:</label>
                <input type="number" id="quantity" required>

                <label for="contact-name">Contact Name:</label>
                <input type="text" id="contact-name" required>

                <label for="contact-email">Contact Email:</label>
                <input type="email" id="contact-email" required>

                <button type="submit">Submit Request</button>
            </form>
        </div>
    </div>

    <!-- Dashboard Section -->
    <div id="dashboard">
        <h2>Dashboard - Submitted Requests</h2>
        <div id="requests-list">
            <!-- Dynamically populated -->
        </div>
    </div>

    <script>
        // Open the form for submitting a request
function openRequestForm(userType) {
    document.getElementById('user-type').value = userType;
    document.getElementById('modal-title').innerText = userType === 'buyer' ? 'Submit Buyer Request' : 'Submit Seller Request';
    document.getElementById('request-form-modal').style.display = 'block';
}

// Close the form modal
document.querySelector('.close').addEventListener('click', () => {
    document.getElementById('request-form-modal').style.display = 'none';
});

// Handle form submission
document.getElementById('request-form').addEventListener('submit', function (e) {
    e.preventDefault();

    // Capture form data
    const request = {
        userType: document.getElementById('user-type').value,
        productName: document.getElementById('product-name').value,
        productDescription: document.getElementById('product-description').value,
        quantity: document.getElementById('quantity').value,
        contactName: document.getElementById('contact-name').value,
        contactEmail: document.getElementById('contact-email').value
    };

    // Save request to local storage (or send to server in real app)
    const requests = JSON.parse(localStorage.getItem('requests')) || [];
    requests.push(request);
    localStorage.setItem('requests', JSON.stringify(requests));

    // Clear form and close modal
    document.getElementById('request-form').reset();
    document.getElementById('request-form-modal').style.display = 'none';

    // Update dashboard
    loadRequests();
});

// Search function to filter and sort requests
document.getElementById('search-bar').addEventListener('input', function() {
    loadRequests(this.value);
});

// Load requests into the dashboard (with optional search query)
function loadRequests(searchQuery = '') {
    const requests = JSON.parse(localStorage.getItem('requests')) || [];
    const requestsList = document.getElementById('requests-list');
    requestsList.innerHTML = ''; // Clear previous items

    // Filter and sort requests based on search query and alphabetical order
    let filteredRequests = requests.filter(request => 
        request.productName.toLowerCase().includes(searchQuery.toLowerCase())
    );

    // Sort requests by product name (alphabetically)
    filteredRequests.sort((a, b) => a.productName.localeCompare(b.productName));

    // Display the filtered and sorted requests
    filteredRequests.forEach(request => {
        const requestItem = document.createElement('div');
        requestItem.classList.add('request-item');
        requestItem.innerHTML = `
            <h4>${request.userType === 'buyer' ? 'Buyer Request' : 'Seller Request'}</h4>
            <p><strong>Product Name:</strong> ${request.productName}</p>
            <p><strong>Description:</strong> ${request.productDescription}</p>
            <p><strong>Quantity:</strong> ${request.quantity}</p>
            <p><strong>Contact Name:</strong> ${request.contactName}</p>
            <p><strong>Contact Email:</strong> ${request.contactEmail}</p>
        `;
        requestsList.appendChild(requestItem);
    });
}

// Initialize dashboard
document.addEventListener('DOMContentLoaded', () => loadRequests());


    </script>
</body>
</html>
